(function(e){"function"===typeof define&&define.amd?define(["jquery"],e):"object"===typeof exports?e(require("jquery")):e(jQuery)})(function(e){var f,h={get:function(a){return g[f].get.apply(this,[a])},set:function(a,b){var c=parseInt(a),d=parseInt(b);"undefined"===typeof a?c=0:0>a&&(c=this.val().length+c);d="undefined"===typeof b?this.val().length:0<=b?c+d:this.val().length+d;g[f].set.apply(this,[c,d]);return this},setcursor:function(a){return this.textrange("set",a,0)},replace:function(a){g[f].replace.apply(this,
[a]);return this},insert:function(a){return this.textrange("replace",a)}},g={xul:{get:function(a){var b={position:this[0].selectionStart,start:this[0].selectionStart,end:this[0].selectionEnd,length:this[0].selectionEnd-this[0].selectionStart,text:this.val().substring(this[0].selectionStart,this[0].selectionEnd)};return"undefined"===typeof a?b:b[a]},set:function(a,b){this[0].selectionStart=a;this[0].selectionEnd=b},replace:function(a){var b=this[0].selectionStart;this.val(this.val().substring(0,this[0].selectionStart)+
a+this.val().substring(this[0].selectionEnd,this.val().length));this[0].selectionStart=b;this[0].selectionEnd=b+a.length}},msie:{get:function(a){var b=document.selection.createRange();if("undefined"===typeof b)return{position:0,start:0,end:this[0].val().length,length:this[0].val().length,text:this.val()};var c=this[0].createTextRange(),d=c.duplicate();c.moveToBookmark(b.getBookmark());d.setEndPoint("EndToStart",c);b={position:d.text.length,start:d.text.length,end:d.text.length+b.text.length,length:b.text.length,
text:b.text};return"undefined"===typeof a?b:b[a]},set:function(a,b){var c=this[0].createTextRange();if("undefined"===typeof c)return this;"undefined"!==typeof a&&(c.moveStart("character",a),c.collapse());"undefined"!==typeof b&&c.moveEnd("character",b-a);c.select()},replace:function(a){document.selection.createRange().text=a}}};e.fn.textrange=function(a){"undefined"===typeof f&&(f="selectionStart"in this[0]?"xul":document.selection?"msie":"unknown");if("unknown"===f)return this;document.activeElement!==
this[0]&&this[0].focus();if("undefined"===typeof a||"string"!==typeof a)return h.get.apply(this);if("function"===typeof h[a])return h[a].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+a+" does not exist in jQuery.textrange")}});
